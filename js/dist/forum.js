module.exports=function(t){var e={};function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=36)}([function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionHero"]},function(t,e,a){t.exports=a(29)},function(t,e){t.exports=flarum.core.compat["components/DiscussionPage"]},function(t,e){t.exports=flarum.core.compat["components/PostStream"]},,function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["helpers/icon"]},function(t,e){t.exports=flarum.core.compat["helpers/highlight"]},function(t,e){t.exports=flarum.core.compat["utils/abbreviateNumber"]},function(t,e,a){"use strict";(function(t){var a="object"==typeof t&&t&&t.Object===Object&&t;e.a=a}).call(this,a(28))},function(t,e){t.exports=flarum.core.compat["common/utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionListPane"]},function(t,e){t.exports=flarum.core.compat["common/components/LoadingIndicator"]},function(t,e){t.exports=flarum.core.compat["common/components/SplitDropdown"]},function(t,e){t.exports=flarum.core.compat["common/helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/LoadingPost"]},function(t,e){t.exports=flarum.core.compat["components/ReplyPlaceholder"]},function(t,e){t.exports=flarum.core.compat["utils/extractText"]},function(t,e){t.exports=flarum.core.compat["utils/humanTime"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(t){"object"==typeof window&&(a=window)}t.exports=a},function(t,e,a){var r=function(t){"use strict";var e=Object.prototype,a=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function i(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,a){return t[e]=a}}function c(t,e,a,r){var n=e&&e.prototype instanceof d?e:d,o=Object.create(n.prototype),s=new N(r||[]);return o._invoke=function(t,e,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return O()}for(a.method=n,a.arg=o;;){var s=a.delegate;if(s){var i=x(s,a);if(i){if(i===u)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=l(t,e,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}(t,a,s),o}function l(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function m(){}function p(){}var f={};f[n]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(j([])));g&&g!==e&&a.call(g,n)&&(f=g);var v=p.prototype=d.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){i(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(n,o){function s(){return new e((function(r,s){!function r(n,o,s,i){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&a.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,s,i)}),(function(t){r("throw",t,s,i)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,i)}))}i(c.arg)}(n,o,r,s)}))}return r=r?r.then(s,s):s()}}function x(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=v.constructor=p,p.constructor=m,m.displayName=i(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,a,r,n,o){void 0===o&&(o=Promise);var s=new b(c(e,a,r,n),o);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(v),i(v,s,"Generator"),v[n]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var r=e.pop();if(r in t)return a.value=r,a.done=!1,a}return a.done=!0,a}},t.values=j,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return s.type="throw",s.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),L(a),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;L(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:j(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},function(t,e){t.exports=flarum.core.compat["common/components/Page"]},function(t,e){t.exports=flarum.core.compat["states/PostStreamState"]},function(t,e){t.exports=flarum.core.compat["components/PostStreamScrubber"]},,function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(1),s=a(13),i=a.n(s),c=a(6),l=a.n(c),u=a(3),d=a.n(u),p=a(14),f=a.n(p),h=a(7),g=a.n(h),v=(a(25),a(26),a(27),a(4)),y=a.n(v),b=a(15),x=a.n(b),w=a(16),L=a.n(w),N=a(17),j="object"==typeof self&&self&&self.Object===Object&&self,O=(N.a||j||Function("return this")()).Symbol;var _=function(t,e){for(var a=-1,r=null==t?0:t.length,n=Array(r);++a<r;)n[a]=e(t[a],a,t);return n},E=Array.isArray,S=Object.prototype,k=S.hasOwnProperty,I=S.toString,P=O?O.toStringTag:void 0;var B=function(t){var e=k.call(t,P),a=t[P];try{t[P]=void 0;var r=!0}catch(t){}var n=I.call(t);return r&&(e?t[P]=a:delete t[P]),n},T=Object.prototype.toString;var C=function(t){return T.call(t)},A=O?O.toStringTag:void 0;var D=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":A&&A in Object(t)?B(t):C(t)};var M=function(t){return null!=t&&"object"==typeof t};var R=function(t){return"symbol"==typeof t||M(t)&&"[object Symbol]"==D(t)},F=O?O.prototype:void 0,G=F?F.toString:void 0;var H=function t(e){if("string"==typeof e)return e;if(E(e))return _(e,t)+"";if(R(e))return G?G.call(e):"";var a=e+"";return"0"==a&&1/e==-1/0?"-0":a};var Z=function(t){return null==t?"":H(t)},q=/[\\^$.*+?()[\]{}|]/g,U=RegExp(q.source);var Y=function(t){return(t=Z(t))&&U.test(t)?t.replace(q,"\\$&"):t},z=a(8),V=a.n(z);function J(t,e,a,r,n,o,s){try{var i=t[o](s),c=i.value}catch(t){return void a(t)}i.done?e(c):Promise.resolve(c).then(r,n)}var K=a(9),Q=a.n(K),W=(a(30),a(2)),X=a.n(W),tt=a(5),et=a.n(tt),at=(a(31),function(){Object(o.extend)(et.a.prototype,"sidebarItems",function(){var t,e=(t=Q.a.mark((function t(e){var a,r,o,s=this;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=function(){location.href="https://emoldova.org/"},e.add("Emoldova",X.a.component({onclick:a.bind(this),icon:"fas fa-home",className:"Button Button--primary item-Emoldova",itemClassName:""},"e-Moldova")),r=function(t){var a=n.a.discussions.sortMap();switch(n.a.store.all("tags")[t].data.attributes.name){case"Noutăți":if(n.a.store.all("tags")[t].data.id,e.add(n.a.store.all("tags")[t].data.attributes.name,X.a.component({icon:n.a.store.all("tags")[t].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[t].data.attributes.slug,className:"Button Button--primary tags_left",itemClassName:""},n.a.store.all("tags")[t].data.attributes.name)),n.a.store.all("tags")[t].data.relationships&&n.a.store.all("tags")[t].data.relationships.children)for(var r=0;r<n.a.store.all("tags")[t].data.relationships.children.data.length;r++)for(var o=n.a.store.all("tags")[t].data.relationships.children.data[r].id,i=0;i<n.a.store.all("tags").length;i++)n.a.store.all("tags")[i].data.id==o&&e.add(n.a.store.all("tags")[i].data.attributes.name,X.a.component({icon:n.a.store.all("tags")[i].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[i].data.attributes.slug,className:"Button Button--primary tags_left_child",itemClassName:""},n.a.store.all("tags")[i].data.attributes.name));break;case"Canale":var c=[];if(n.a.store.all("tags")[t].data.relationships&&n.a.store.all("tags")[t].data.relationships.children)for(var l=0;l<n.a.store.all("tags")[t].data.relationships.children.data.length;l++){for(var u=n.a.store.all("tags")[t].data.relationships.children.data[l].id,m=void 0,p=void 0,f=0;f<n.a.store.all("tags").length;f++)n.a.store.all("tags")[f].data.id==u&&(m=n.a.store.all("tags")[f].data.attributes.name,p=n.a.store.all("tags")[f].data.attributes.slug);var h={name:m,href:p};c.push(h)}e.has(n.a.store.all("tags")[t].data.attributes.name)||(n.a.store.all("tags")[t].data.id,e.add(n.a.store.all("tags")[t].data.attributes.name,d.a.component({icon:n.a.store.all("tags")[t].data.attributes.icon,buttonClassName:"Button Button--primary tags_left",label:"Canale",accessibleToggleLabel:"Canale"},Object.keys(c).map((function(t){var e=c[t],r=(n.a.search.params().sort||Object.keys(a)[0])===t;return n.a.title="10TV",X.a.component({icon:!r||"fas fa-check",class:"TagLinkButton hasIcon",href:"/t/"+e.href,active:r,onclick:function(){}.bind(s)},e.name)})))));break;case"Emisiuni":var g=[];if(n.a.store.all("tags")[t].data.relationships&&n.a.store.all("tags")[t].data.relationships.children)for(var v=0;v<n.a.store.all("tags")[t].data.relationships.children.data.length;v++){for(var y=n.a.store.all("tags")[t].data.relationships.children.data[v].id,b=void 0,x=void 0,w=0;w<n.a.store.all("tags").length;w++)n.a.store.all("tags")[w].data.id==y&&(b=n.a.store.all("tags")[w].data.attributes.name,x=n.a.store.all("tags")[w].data.attributes.slug);var L={name:b,href:x};g.push(L)}e.has(n.a.store.all("tags")[t].data.attributes.name)||(n.a.store.all("tags")[t].data.id,e.add(n.a.store.all("tags")[t].data.attributes.name,d.a.component({icon:n.a.store.all("tags")[t].data.attributes.icon,buttonClassName:"Button Button--primary tags_left",label:"Emisiuni",accessibleToggleLabel:"Emisiuni"},Object.keys(g).map((function(t){var e=g[t],r=(n.a.search.params().sort||Object.keys(a)[0])===t;return X.a.component({icon:!r||"fas fa-check",href:"/t/"+e.href,active:r},e.name)})))))}},o=0;o<n.a.store.all("tags").length;o++)r(o);return t.next=6,n.a.tagList.load(["children","lastPostedDiscussion","parent"]).then((function(){return n.a.store.all("tags")}));case 6:t.sent;case 7:case"end":return t.stop()}}),t,this)})),function(){var e=this,a=arguments;return new Promise((function(r,n){var o=t.apply(e,a);function s(t){J(o,r,n,s,i,"next",t)}function i(t){J(o,r,n,s,i,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}()),Object(o.extend)(et.a.prototype,"viewItems",(function(t){t.has("sort")&&t.remove("sort"),t.add("preloader",m("div",{id:"preloader"},m("div",{class:"loading"},m("div",{class:"circle_loading"})))),$(window).on("load",(function(){null!=document.getElementById("preloader")&&(document.getElementById("preloader").style.opacity=0,setTimeout((function(){document.getElementById("preloader").style.display="none"}),400))})),setTimeout((function(){null!=document.getElementById("preloader")&&(document.getElementById("preloader").style.opacity=0,setTimeout((function(){document.getElementById("preloader").style.display="none"}),400))}),3e3);for(var e=et.a.prototype.sidebarItems().items.nav.content.children,a=0;a<e.length;a++)"separator"===e[a].itemName&&e.splice(0,a+1);for(var r=0;r<e.length;r++)"Noutăți"==e[r].children[0]||"Canale"==e[r].children[0]||"Emisiuni"==e[r].children[0]||e[r].attrs.model.data.attributes.isChild||"An"==e[r].children[0]||"Luna"==e[r].children[0]||"Zi"==e[r].children[0]||t.add(e[r].children[0],X.a.component({icon:e[r].attrs.model.data.attributes.icon,href:"/t/"+e[r].attrs.model.data.attributes.slug,className:"Button Button--primary tags_center",itemClassName:""},e[r].children[0]))})),Object(o.extend)(et.a.prototype,"actionItems",(function(t){for(var e=n.a.discussions.sortMap(),a=[],r=function(e){var r=n.a.discussions.sortMap();switch(n.a.store.all("tags")[e].data.attributes.name){case"An":if(n.a.store.all("tags")[e].data.relationships&&n.a.store.all("tags")[e].data.relationships.children)for(var o=0;o<n.a.store.all("tags")[e].data.relationships.children.data.length;o++){for(var s=n.a.store.all("tags")[e].data.relationships.children.data[o].id,i=void 0,c=void 0,l=0;l<n.a.store.all("tags").length;l++)n.a.store.all("tags")[l].data.id==s&&(i=n.a.store.all("tags")[l].data.attributes.name,c=n.a.store.all("tags")[l].data.attributes.slug);var u={name:i,href:c};a.push(u)}t.add(n.a.store.all("tags")[e].data.attributes.name,d.a.component({icon:n.a.store.all("tags")[e].data.attributes.icon,buttonClassName:"Button Button--primary tags_center",label:"An",accessibleToggleLabel:"An"},Object.keys(a).map((function(t){var e=a[t],o=(n.a.search.params().sort||Object.keys(r)[0])===t;return X.a.component({icon:!o||"fas fa-check",href:"/t/"+e.href,active:o},e.name)}))))}},o=0;o<n.a.store.all("tags").length;o++)r(o);var s=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"];t.has("Luna")||t.add("Luna",d.a.component({buttonClassName:"Button Button--primary tags_center",label:"Luna",accessibleToggleLabel:"Luna"},Object.keys(s).map((function(t){var a=s[t],r=(n.a.search.params().sort||Object.keys(e)[0])===t;return X.a.component({icon:!r||"fas fa-check",href:"/t/"+a,active:r},a)}))));var i=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"];t.has("Zi")||t.add("Zi",d.a.component({buttonClassName:"Button Button--primary tags_center",label:"Zi",accessibleToggleLabel:"Zi"},Object.keys(i).map((function(t){var a=i[t],r=(n.a.search.params().sort||Object.keys(e)[0])===t;return X.a.component({icon:!r||"fas fa-check",href:"/t/"+a,active:r},a)}))))}))}),rt=a(10),nt=a.n(rt),ot=(a(32),a(18)),st=a.n(ot),it=a(19),ct=a.n(it),lt=a(11),ut=a.n(lt),dt=a(20),mt=a.n(dt),pt=a(21),ft=a.n(pt),ht=a(22),gt=a.n(ht),vt=(a(33),a(23)),yt=a.n(vt),bt=a(24),xt=a.n(bt);a(34);n.a.initializers.add("vascan/presa-ui",(function(){Object(o.override)(i.a.prototype,"view",(function(){var t=this.attrs.discussion,e=(t.user(),t.isUnread()),a=t.isRead(),r=!this.showRepliesCount()&&e,o=0,s=l.a.controls(t,this).toArray(),i=this.elementAttrs();if(this.attrs.params.q){var c=t.mostRelevantPost();c&&(o=c.number()),console.log(this.attrs.params.q);var u=Y(this.attrs.params.q);this.highlightRegExp=new RegExp(u+"|"+u.trim().replace(/\s+/g,"|"),"gi")}else o=Math.min(t.lastPostNumber(),(t.lastReadPostNumber()||0)+1);for(var p=y()(this.infoItems().toArray())[0],h=p.children[0].children.length,v=0;v<h;v++)"i"!=p.children[0].children[v].children[0].children[0].tag&&0==p.children[0].children[v].attrs.className.includes("TagLabel--child")&&(p.children[0].children[v].attrs.className+=" d-none");return m("div",i,s.length?d.a.component({icon:"fas fa-ellipsis-h",className:"DiscussionListItem-controls",buttonClassName:"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right"},s):"",m("span",{className:"Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic"+(e?"":" disabled"),onclick:this.markAsRead.bind(this)},f()("fas fa-check")),m("div",{className:"DiscussionListItem-content Slidable-content"+(e?" unread":"")+(a?" read":"")},m("ul",{className:"DiscussionListItem-badges badges"},y()(t.badges().toArray())),m(g.a,{href:n.a.route.discussion(t,o),className:"DiscussionListItem-main"},m("ul",{className:"DiscussionListItem-info"},y()(this.infoItems().toArray())[y()(this.infoItems().toArray()).length-1]),m("h3",{className:"DiscussionListItem-title"},x()(t.title(),this.highlightRegExp)),m("ul",{className:"DiscussionListItem-info"},p)),m("span",{tabindex:"0",role:"button",className:"DiscussionListItem-count",onclick:this.markAsRead.bind(this),title:r?n.a.translator.trans("core.forum.discussion_list.mark_as_read_tooltip"):""},L()(t[r?"unreadCount":"replyCount"]()))))})),Object(o.extend)(V.a.prototype,"items",(function(t){if(t.items.tags)for(var e=t.items.tags.content.children.length,a=0;a<e;a++){var r=t.items.tags.content.children[a].children[0].children[2].children;"Canale"!=r&&"An"!=r&&"Luna"!=r&&"Zi"!=r&&"Emisiuni"!=r||(t.items.tags.content.children[a].attrs.className+=" d-none")}})),at(),Object(o.override)(nt.a.prototype,"view",(function(){var t=this.discussion;return m("div",{className:"DiscussionPage"},m(ct.a,{state:n.a.discussions}),m("div",{className:"DiscussionPage-discussion"},t?[m("div",{className:"container-fluid"},m("div",{className:"DiscussionPage-stream"},ut.a.component({discussion:t,stream:this.stream,onPositionChange:this.positionChanged.bind(this),sidebarItems:this.sidebarItems()})))]:m(mt.a,null)))})),Object(o.override)(nt.a.prototype,"sidebarItems",(function(){var t=new st.a,e=l.a.controls(this.discussion,this).toArray();return e[0].children[0]="Editate",e[0].attrs.icon="fas fa-pencil-alt",console.log(),null!=n.a.session.user&&t.add("controls",ft.a.component({icon:"fas fa-ellipsis-v",className:"App-primaryControl",buttonClassName:"Button",accessibleToggleLabel:n.a.translator.trans("core.forum.discussion_controls.toggle_dropdown_accessible_label")},e)),t})),Object(o.override)(ut.a.prototype,"view",(function(){var t,e=this,a=this.stream.viewingEnd(),r=this.stream.posts(),o=this.discussion.postIds(),s=function(t){$(t.dom).addClass("fadeIn"),setTimeout((function(){return $(t.dom).removeClass("fadeIn")}),500)},i=r.map((function(a,r){var i,c={"data-index":e.stream.visibleStart+r};if(a){var l=a.createdAt(),u=n.a.postComponents[a.contentType()];i=u?u.component({post:a}):"",c.key="post"+a.id(),c.oncreate=s,c["data-time"]=l.toISOString(),c["data-number"]=a.number(),c["data-id"]=a.id(),c["data-type"]=a.contentType();var d=l-t;d>3456e5&&(i=[m("div",{className:"PostStream-timeGap"},m("span",null,n.a.translator.trans("core.forum.post_stream.time_lapsed_text",{period:dayjs().add(d,"ms").fromNow(!0)}))),i]),t=l}else c.key="post"+o[e.stream.visibleStart+r],i=yt.a.component();if(1==c["data-number"]){var p=i.attrs.post.data.attributes.contentHtml,f=p.split("[video]").filter((function(t){return t.indexOf("[/video]")>-1})).map((function(t){return t.split("[/video]")[0]})),h=document.getElementsByClassName("video")[0];null!=h&&""==h.innerHTML&&(h.innerHTML=f[0]);var g=p.split("[text]").filter((function(t){return t.indexOf("[/text]")>-1})).map((function(t){return t.split("[/text]")[0]})),v=document.getElementsByClassName("description")[0];null!=v&&""==v.innerHTML&&(v.innerHTML=g[0]);var y=e.attrs.sidebarItems;return m("div",Object.assign({className:"PostStream-item"},c),m("div",{class:"video"}),m("div",{class:"text"},m("ul",{className:"actions DiscussionPage-nav-ul"},gt()(y.toArray())),m("div",{class:"description"}),m("div",{class:"actions_2"})))}return m("div",Object.assign({className:"PostStream-item"},c),i)}));return!a&&r[this.stream.visibleEnd-this.stream.visibleStart-1]&&i.push(m("div",{className:"PostStream-loadMore",key:"loadMore"},m(Button,{className:"Button",onclick:this.stream.loadNext.bind(this.stream)},n.a.translator.trans("core.forum.post_stream.load_more_button")))),!a||n.a.session.user&&!this.discussion.canReply()||i.push(m("div",{className:"PostStream-item",key:"reply","data-index":this.stream.count(),oncreate:s},xt.a.component({discussion:this.discussion}))),m("div",{className:"PostStream"},i)}))}))}]);
//# sourceMappingURL=forum.js.map