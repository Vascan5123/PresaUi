module.exports=function(t){var e={};function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=24)}([function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e,a){t.exports=a(20)},,function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["helpers/icon"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e){t.exports=flarum.core.compat["helpers/highlight"]},function(t,e){t.exports=flarum.core.compat["utils/abbreviateNumber"]},function(t,e,a){"use strict";(function(t){var a="object"==typeof t&&t&&t.Object===Object&&t;e.a=a}).call(this,a(19))},function(t,e){t.exports=flarum.core.compat["components/DiscussionHero"]},function(t,e){t.exports=flarum.core.compat["utils/extractText"]},function(t,e){t.exports=flarum.core.compat["utils/humanTime"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(t){"object"==typeof window&&(a=window)}t.exports=a},function(t,e,a){var r=function(t){"use strict";var e=Object.prototype,a=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,a){return t[e]=a}}function c(t,e,a,r){var n=e&&e.prototype instanceof f?e:f,o=Object.create(n.prototype),i=new j(r||[]);return o._invoke=function(t,e,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return O()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var s=x(i,a);if(s){if(s===u)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=l(t,e,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}(t,a,i),o}function l(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function f(){}function h(){}function d(){}var p={};p[n]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(N([])));g&&g!==e&&a.call(g,n)&&(p=g);var v=d.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(n,o){function i(){return new e((function(r,i){!function r(n,o,i,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}}function x(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function N(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v.constructor=d,d.constructor=h,h.displayName=s(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,a,r,n,o){void 0===o&&(o=Promise);var i=new b(c(e,a,r,n),o);return t.isGeneratorFunction(a)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(v),s(v,i,"Generator"),v[n]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var r=e.pop();if(r in t)return a.value=r,a.done=!1,a}return a.done=!0,a}},t.values=N,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return i.type="throw",i.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),L(a),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;L(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:N(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},,function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(2),i=a(8),s=a.n(i),c=a(9),l=a.n(c),u=a(3),f=a.n(u),h=a(10),d=a.n(h),p=a(11),g=a.n(p),v=(a(16),a(17),a(18),a(4)),y=a.n(v),b=a(12),x=a.n(b),w=a(13),L=a.n(w),j=a(14),N="object"==typeof self&&self&&self.Object===Object&&self,O=(j.a||N||Function("return this")()).Symbol;var k=function(t,e){for(var a=-1,r=null==t?0:t.length,n=Array(r);++a<r;)n[a]=e(t[a],a,t);return n},E=Array.isArray,_=Object.prototype,S=_.hasOwnProperty,I=_.toString,B=O?O.toStringTag:void 0;var A=function(t){var e=S.call(t,B),a=t[B];try{t[B]=void 0;var r=!0}catch(t){}var n=I.call(t);return r&&(e?t[B]=a:delete t[B]),n},C=Object.prototype.toString;var P=function(t){return C.call(t)},T=O?O.toStringTag:void 0;var D=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":T&&T in Object(t)?A(t):P(t)};var R=function(t){return null!=t&&"object"==typeof t};var M=function(t){return"symbol"==typeof t||R(t)&&"[object Symbol]"==D(t)},F=O?O.prototype:void 0,G=F?F.toString:void 0;var Z=function t(e){if("string"==typeof e)return e;if(E(e))return k(e,t)+"";if(M(e))return G?G.call(e):"";var a=e+"";return"0"==a&&1/e==-1/0?"-0":a};var q=function(t){return null==t?"":Z(t)},U=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(U.source);var $=function(t){return(t=q(t))&&Y.test(t)?t.replace(U,"\\$&"):t},z=a(15),H=a.n(z);function J(t,e,a,r,n,o,i){try{var s=t[o](i),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(r,n)}var K=a(6),Q=a.n(K),V=(a(21),a(1)),W=a.n(V),X=a(5),tt=a.n(X),et=(a(22),function(){Object(o.extend)(tt.a.prototype,"sidebarItems",function(){var t,e=(t=Q.a.mark((function t(e){var a,r,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=function(){location.href="https://emoldova.org/"},e.add("Emoldova",W.a.component({onclick:a.bind(this),icon:"fas fa-home",className:"Button Button--primary item-Emoldova",itemClassName:""},"E-Moldova")),r=function(t){var a=n.a.discussions.sortMap();switch(n.a.store.all("tags")[t].data.attributes.name){case"Noutăți":if(n.a.store.all("tags")[t].data.id,e.add(n.a.store.all("tags")[t].data.attributes.name,W.a.component({icon:n.a.store.all("tags")[t].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[t].data.attributes.slug,className:"Button Button--primary tags_left",itemClassName:""},n.a.store.all("tags")[t].data.attributes.name)),n.a.store.all("tags")[t].data.relationships&&n.a.store.all("tags")[t].data.relationships.children)for(var r=0;r<n.a.store.all("tags")[t].data.relationships.children.data.length;r++)for(var o=n.a.store.all("tags")[t].data.relationships.children.data[r].id,i=0;i<n.a.store.all("tags").length;i++)n.a.store.all("tags")[i].data.id==o&&e.add(n.a.store.all("tags")[i].data.attributes.name,W.a.component({icon:n.a.store.all("tags")[i].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[i].data.attributes.slug,className:"Button Button--primary tags_left_child",itemClassName:""},n.a.store.all("tags")[i].data.attributes.name));break;case"Canale":var s=[];if(n.a.store.all("tags")[t].data.relationships&&n.a.store.all("tags")[t].data.relationships.children)for(var c=0;c<n.a.store.all("tags")[t].data.relationships.children.data.length;c++){for(var l=n.a.store.all("tags")[t].data.relationships.children.data[c].id,u=void 0,h=void 0,d=0;d<n.a.store.all("tags").length;d++)n.a.store.all("tags")[d].data.id==l&&(u=n.a.store.all("tags")[d].data.attributes.name,h=n.a.store.all("tags")[d].data.attributes.slug);var p={name:u,href:h};s.push(p)}e.has(n.a.store.all("tags")[t].data.attributes.name)||(n.a.store.all("tags")[t].data.id,e.add(n.a.store.all("tags")[t].data.attributes.name,f.a.component({icon:n.a.store.all("tags")[t].data.attributes.icon,buttonClassName:"Button Button--primary tags_left",label:"Canale",accessibleToggleLabel:"Canale"},Object.keys(s).map((function(t){var e=s[t],r=(n.a.search.params().sort||Object.keys(a)[0])===t;return W.a.component({icon:!r||"fas fa-check",href:"/t/"+e.href,active:r},e.name)})))));break;case"Emisiuni":var m=[];if(n.a.store.all("tags")[t].data.relationships&&n.a.store.all("tags")[t].data.relationships.children)for(var g=0;g<n.a.store.all("tags")[t].data.relationships.children.data.length;g++){for(var v=n.a.store.all("tags")[t].data.relationships.children.data[g].id,y=void 0,b=void 0,x=0;x<n.a.store.all("tags").length;x++)n.a.store.all("tags")[x].data.id==v&&(y=n.a.store.all("tags")[x].data.attributes.name,b=n.a.store.all("tags")[x].data.attributes.slug);var w={name:y,href:b};m.push(w)}e.has(n.a.store.all("tags")[t].data.attributes.name)||(n.a.store.all("tags")[t].data.id,e.add(n.a.store.all("tags")[t].data.attributes.name,f.a.component({icon:n.a.store.all("tags")[t].data.attributes.icon,buttonClassName:"Button Button--primary tags_left",label:"Emisiuni",accessibleToggleLabel:"Emisiuni"},Object.keys(m).map((function(t){var e=m[t],r=(n.a.search.params().sort||Object.keys(a)[0])===t;return W.a.component({icon:!r||"fas fa-check",href:"/t/"+e.href,active:r},e.name)})))))}},o=0;o<n.a.store.all("tags").length;o++)r(o);return t.next=6,n.a.tagList.load(["children","lastPostedDiscussion","parent"]).then((function(){return n.a.store.all("tags")}));case 6:t.sent;case 7:case"end":return t.stop()}}),t,this)})),function(){var e=this,a=arguments;return new Promise((function(r,n){var o=t.apply(e,a);function i(t){J(o,r,n,i,s,"next",t)}function s(t){J(o,r,n,i,s,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}()),Object(o.extend)(tt.a.prototype,"viewItems",(function(t){t.has("sort")&&t.remove("sort");for(var e=tt.a.prototype.sidebarItems().items.nav.content.children,a=0;a<e.length;a++)"separator"===e[a].itemName&&e.splice(0,a+1);for(var r=0;r<e.length;r++)"Noutăți"==e[r].children[0]||"Canale"==e[r].children[0]||"Emisiuni"==e[r].children[0]||e[r].attrs.model.data.attributes.isChild||"An"==e[r].children[0]||"Luna"==e[r].children[0]||"Zi"==e[r].children[0]||t.add(e[r].children[0],W.a.component({icon:e[r].attrs.model.data.attributes.icon,href:"/t/"+e[r].attrs.model.data.attributes.slug,className:"Button Button--primary tags_center",itemClassName:""},e[r].children[0]))})),Object(o.extend)(tt.a.prototype,"actionItems",(function(t){for(var e=n.a.discussions.sortMap(),a=[],r=function(e){var r=n.a.discussions.sortMap();switch(n.a.store.all("tags")[e].data.attributes.name){case"An":if(n.a.store.all("tags")[e].data.relationships&&n.a.store.all("tags")[e].data.relationships.children)for(var o=0;o<n.a.store.all("tags")[e].data.relationships.children.data.length;o++){for(var i=n.a.store.all("tags")[e].data.relationships.children.data[o].id,s=void 0,c=void 0,l=0;l<n.a.store.all("tags").length;l++)n.a.store.all("tags")[l].data.id==i&&(s=n.a.store.all("tags")[l].data.attributes.name,c=n.a.store.all("tags")[l].data.attributes.slug);var u={name:s,href:c};a.push(u)}t.add(n.a.store.all("tags")[e].data.attributes.name,f.a.component({icon:n.a.store.all("tags")[e].data.attributes.icon,buttonClassName:"Button Button--primary tags_center",label:"An",accessibleToggleLabel:"An"},Object.keys(a).map((function(t){var e=a[t],o=(n.a.search.params().sort||Object.keys(r)[0])===t;return W.a.component({icon:!o||"fas fa-check",href:"/t/"+e.href,active:o},e.name)}))))}},o=0;o<n.a.store.all("tags").length;o++)r(o);var i=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"];t.has("Luna")||t.add("Luna",f.a.component({buttonClassName:"Button Button--primary tags_center",label:"Luna",accessibleToggleLabel:"Luna"},Object.keys(i).map((function(t){var a=i[t],r=(n.a.search.params().sort||Object.keys(e)[0])===t;return W.a.component({icon:!r||"fas fa-check",href:"/t/"+a,active:r},a)}))));var s=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"];t.has("Zi")||t.add("Zi",f.a.component({buttonClassName:"Button Button--primary tags_center",label:"Zi",accessibleToggleLabel:"Zi"},Object.keys(s).map((function(t){var a=s[t],r=(n.a.search.params().sort||Object.keys(e)[0])===t;return W.a.component({icon:!r||"fas fa-check",href:"/t/"+a,active:r},a)}))))}))});n.a.initializers.add("vascan/presa-ui",(function(){Object(o.override)(s.a.prototype,"view",(function(){var t=this.attrs.discussion,e=(t.user(),t.isUnread()),a=t.isRead(),r=!this.showRepliesCount()&&e,o=0,i=l.a.controls(t,this).toArray(),s=this.elementAttrs();if(this.attrs.params.q){var c=t.mostRelevantPost();c&&(o=c.number()),console.log(this.attrs.params.q);var u=$(this.attrs.params.q);this.highlightRegExp=new RegExp(u+"|"+u.trim().replace(/\s+/g,"|"),"gi")}else o=Math.min(t.lastPostNumber(),(t.lastReadPostNumber()||0)+1);for(var h=y()(this.infoItems().toArray())[0],p=h.children[0].children.length,v=0;v<p;v++)"i"!=h.children[0].children[v].children[0].children[0].tag&&0==h.children[0].children[v].attrs.className.includes("TagLabel--child")&&(h.children[0].children[v].attrs.className+=" d-none");return m("div",s,i.length?f.a.component({icon:"fas fa-ellipsis-h",className:"DiscussionListItem-controls",buttonClassName:"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right"},i):"",m("span",{className:"Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic"+(e?"":" disabled"),onclick:this.markAsRead.bind(this)},d()("fas fa-check")),m("div",{className:"DiscussionListItem-content Slidable-content"+(e?" unread":"")+(a?" read":"")},m("ul",{className:"DiscussionListItem-badges badges"},y()(t.badges().toArray())),m(g.a,{href:n.a.route.discussion(t,o),className:"DiscussionListItem-main"},m("ul",{className:"DiscussionListItem-info"},y()(this.infoItems().toArray())[y()(this.infoItems().toArray()).length-1]),m("h3",{className:"DiscussionListItem-title"},x()(t.title(),this.highlightRegExp)),m("ul",{className:"DiscussionListItem-info"},h)),m("span",{tabindex:"0",role:"button",className:"DiscussionListItem-count",onclick:this.markAsRead.bind(this),title:r?n.a.translator.trans("core.forum.discussion_list.mark_as_read_tooltip"):""},L()(t[r?"unreadCount":"replyCount"]()))))})),Object(o.extend)(H.a.prototype,"items",(function(t){if(t.items.tags)for(var e=t.items.tags.content.children.length,a=0;a<e;a++){var r=t.items.tags.content.children[a].children[0].children[2].children;"Canale"!=r&&"An"!=r&&"Luna"!=r&&"Zi"!=r&&"Emisiuni"!=r||(t.items.tags.content.children[a].attrs.className+=" d-none",console.log(t.items.tags.content.children[a].attrs.className))}})),et()}))}]);
//# sourceMappingURL=forum.js.map