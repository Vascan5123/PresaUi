module.exports=function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=24)}([function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e,r){t.exports=r(20)},,function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["helpers/icon"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e){t.exports=flarum.core.compat["helpers/highlight"]},function(t,e){t.exports=flarum.core.compat["utils/abbreviateNumber"]},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(19))},function(t,e){t.exports=flarum.core.compat["components/DiscussionHero"]},function(t,e){t.exports=flarum.core.compat["utils/extractText"]},function(t,e){t.exports=flarum.core.compat["utils/humanTime"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var a=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,a){var n=e&&e.prototype instanceof f?e:f,o=Object.create(n.prototype),i=new N(a||[]);return o._invoke=function(t,e,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return O()}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var s=x(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=l(t,e,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function f(){}function h(){}function d(){}var p={};p[n]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,n)&&(p=g);var v=d.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var a;this._invoke=function(n,o){function i(){return new e((function(a,i){!function a(n,o,i,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){a("next",t,i,s)}),(function(t){a("throw",t,i,s)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return a("throw",t,i,s)}))}s(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=l(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,u;var n=a.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v.constructor=d,d.constructor=h,h.displayName=s(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,r,a,n,o){void 0===o&&(o=Promise);var i=new b(c(e,r,a,n),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(v),s(v,i,"Generator"),v[n]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var a=e.pop();if(a in t)return r.value=a,r.done=!1,r}return r.done=!0,r}},t.values=j,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(r,a){return i.type="throw",i.arg=t,e.next=r,a&&(e.method="next",e.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var a=r.completion;if("throw"===a.type){var n=a.arg;L(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=a}catch(t){Function("r","regeneratorRuntime = r")(a)}},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},,function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),o=r(2),i=r(8),s=r.n(i),c=r(9),l=r.n(c),u=r(3),f=r.n(u),h=r(10),d=r.n(h),p=r(11),g=r.n(p),v=(r(16),r(17),r(18),r(4)),y=r.n(v),b=r(12),x=r.n(b),w=r(13),L=r.n(w),N=r(14),j="object"==typeof self&&self&&self.Object===Object&&self,O=(N.a||j||Function("return this")()).Symbol;var _=function(t,e){for(var r=-1,a=null==t?0:t.length,n=Array(a);++r<a;)n[r]=e(t[r],r,t);return n},k=Array.isArray,E=Object.prototype,A=E.hasOwnProperty,C=E.toString,S=O?O.toStringTag:void 0;var B=function(t){var e=A.call(t,S),r=t[S];try{t[S]=void 0;var a=!0}catch(t){}var n=C.call(t);return a&&(e?t[S]=r:delete t[S]),n},I=Object.prototype.toString;var P=function(t){return I.call(t)},T=O?O.toStringTag:void 0;var D=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":T&&T in Object(t)?B(t):P(t)};var R=function(t){return null!=t&&"object"==typeof t};var M=function(t){return"symbol"==typeof t||R(t)&&"[object Symbol]"==D(t)},F=O?O.prototype:void 0,G=F?F.toString:void 0;var Z=function t(e){if("string"==typeof e)return e;if(k(e))return _(e,t)+"";if(M(e))return G?G.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var q=function(t){return null==t?"":Z(t)},U=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(U.source);var $=function(t){return(t=q(t))&&Y.test(t)?t.replace(U,"\\$&"):t},z=r(15),H=r.n(z);function J(t,e,r,a,n,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(a,n)}var K=r(6),Q=r.n(K),V=(r(21),r(1)),W=r.n(V),X=r(5),tt=r.n(X),et=(r(22),function(){Object(o.extend)(tt.a.prototype,"sidebarItems",function(){var t,e=(t=Q.a.mark((function t(e){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=function(){location.href="https://emoldova.org/"},e.add("Emoldova",W.a.component({onclick:r.bind(this),icon:"fas fa-home",className:"Button Button--primary item-Emoldova",itemClassName:"App-primaryControl"},"E-Moldova")),a=0;a<n.a.store.all("tags").length;a++)!function(){switch(n.a.store.all("tags")[a].data.attributes.name){case"Noutăți":if(n.a.store.all("tags")[a].data.id,e.add(n.a.store.all("tags")[a].data.attributes.name,W.a.component({icon:n.a.store.all("tags")[a].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[a].data.attributes.slug,className:"Button Button--primary tags_left",itemClassName:"App-primaryControl"},n.a.store.all("tags")[a].data.attributes.name)),n.a.store.all("tags")[a].data.relationships&&n.a.store.all("tags")[a].data.relationships.children)for(var t=0;t<n.a.store.all("tags")[a].data.relationships.children.data.length;t++)for(var r=n.a.store.all("tags")[a].data.relationships.children.data[t].id,o=0;o<n.a.store.all("tags").length;o++)n.a.store.all("tags")[o].data.id==r&&e.add(n.a.store.all("tags")[o].data.attributes.name,W.a.component({icon:n.a.store.all("tags")[o].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[o].data.attributes.slug,className:"Button Button--primary tags_left_child",itemClassName:"App-primaryControl"},n.a.store.all("tags")[o].data.attributes.name));break;case"Canale":var i=n.a.discussions.sortMap(),s=[];if(n.a.store.all("tags")[a].data.relationships&&n.a.store.all("tags")[a].data.relationships.children)for(var c=0;c<n.a.store.all("tags")[a].data.relationships.children.data.length;c++){for(var l=n.a.store.all("tags")[a].data.relationships.children.data[c].id,u=void 0,h=void 0,d=0;d<n.a.store.all("tags").length;d++)n.a.store.all("tags")[d].data.id==l&&(u=n.a.store.all("tags")[d].data.attributes.name,h=n.a.store.all("tags")[d].data.attributes.slug);var p={name:u,href:h};s.push(p)}e.has(n.a.store.all("tags")[a].data.attributes.name)||(n.a.store.all("tags")[a].data.id,e.add(n.a.store.all("tags")[a].data.attributes.name,f.a.component({icon:n.a.store.all("tags")[a].data.attributes.icon,buttonClassName:"Button Button--primary tags_left",label:"Canale",accessibleToggleLabel:"Canale"},Object.keys(s).map((function(t){var e=s[t],r=(n.a.search.params().sort||Object.keys(i)[0])===t;return W.a.component({icon:!r||"fas fa-check",href:"/t/"+e.href,active:r},e.name)})))));break;case"Emisiuni":if(n.a.store.all("tags")[a].data.id,e.add(n.a.store.all("tags")[a].data.attributes.name,W.a.component({icon:n.a.store.all("tags")[a].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[a].data.attributes.slug,className:"Button Button--primary tags_left",itemClassName:"App-primaryControl"},n.a.store.all("tags")[a].data.attributes.name)),n.a.store.all("tags")[a].data.relationships&&n.a.store.all("tags")[a].data.relationships.children)for(var m=0;m<n.a.store.all("tags")[a].data.relationships.children.data.length;m++)for(var g=n.a.store.all("tags")[a].data.relationships.children.data[m].id,v=0;v<n.a.store.all("tags").length;v++)n.a.store.all("tags")[v].data.id==g&&e.add(n.a.store.all("tags")[v].data.attributes.name,W.a.component({icon:n.a.store.all("tags")[v].data.attributes.icon,href:"/t/"+n.a.store.all("tags")[v].data.attributes.slug,className:"Button Button--primary tags_left_child",itemClassName:"App-primaryControl"},n.a.store.all("tags")[v].data.attributes.name))}}();return t.next=5,n.a.tagList.load(["children","lastPostedDiscussion","parent"]).then((function(){return n.a.store.all("tags")}));case 5:t.sent;case 6:case"end":return t.stop()}}),t,this)})),function(){var e=this,r=arguments;return new Promise((function(a,n){var o=t.apply(e,r);function i(t){J(o,a,n,i,s,"next",t)}function s(t){J(o,a,n,i,s,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}()),Object(o.extend)(tt.a.prototype,"viewItems",(function(t){t.has("sort")&&t.remove("sort");for(var e=tt.a.prototype.sidebarItems().items.nav.content.children,r=0;r<e.length;r++)"separator"===e[r].itemName&&e.splice(0,r+1);for(var a=0;a<e.length;a++)"Noutăți"==e[a].children[0]||"Canale"==e[a].children[0]||"Emisiuni"==e[a].children[0]||e[a].attrs.model.data.attributes.isChild||"An"==e[a].children[0]||"Luna"==e[a].children[0]||"Zi"==e[a].children[0]||t.add(e[a].children[0],W.a.component({icon:e[a].attrs.model.data.attributes.icon,href:"/t/"+e[a].attrs.model.data.attributes.slug,className:"Button Button--primary tags_center",itemClassName:"App-primaryControl"},e[a].children[0]))})),Object(o.extend)(tt.a.prototype,"actionItems",(function(t){var e=n.a.discussions.sortMap(),r=["2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010"];t.has("An")||t.add("An",f.a.component({buttonClassName:"Button Button--primary tags_center",label:"An",accessibleToggleLabel:"An"},Object.keys(r).map((function(t){var a=r[t],o=(n.a.search.params().sort||Object.keys(e)[0])===t;return W.a.component({icon:!o||"fas fa-check",href:"/t/"+a,active:o},a)}))));var a=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"];t.has("Luna")||t.add("Luna",f.a.component({buttonClassName:"Button Button--primary tags_center",label:"Luna",accessibleToggleLabel:"Luna"},Object.keys(a).map((function(t){var r=a[t],o=(n.a.search.params().sort||Object.keys(e)[0])===t;return W.a.component({icon:!o||"fas fa-check",href:"/t/"+r,active:o},r)}))));var o=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"];t.has("Zi")||t.add("Zi",f.a.component({buttonClassName:"Button Button--primary tags_center",label:"Zi",accessibleToggleLabel:"Zi"},Object.keys(o).map((function(t){var r=o[t],a=(n.a.search.params().sort||Object.keys(e)[0])===t;return W.a.component({icon:!a||"fas fa-check",href:"/t/"+r,active:a},r)}))))}))});n.a.initializers.add("vascan/presa-ui",(function(){Object(o.override)(s.a.prototype,"view",(function(){var t=this.attrs.discussion,e=(t.user(),t.isUnread()),r=t.isRead(),a=!this.showRepliesCount()&&e,o=0,i=l.a.controls(t,this).toArray(),s=this.elementAttrs();if(this.attrs.params.q){var c=t.mostRelevantPost();c&&(o=c.number()),console.log(this.attrs.params.q);var u=$(this.attrs.params.q);this.highlightRegExp=new RegExp(u+"|"+u.trim().replace(/\s+/g,"|"),"gi")}else o=Math.min(t.lastPostNumber(),(t.lastReadPostNumber()||0)+1);for(var h=y()(this.infoItems().toArray())[0],p=h.children[0].children.length,v=0;v<p;v++)"i"!=h.children[0].children[v].children[0].children[0].tag&&0==h.children[0].children[v].attrs.className.includes("TagLabel--child")&&(h.children[0].children[v].attrs.className+=" d-none");return m("div",s,i.length?f.a.component({icon:"fas fa-ellipsis-h",className:"DiscussionListItem-controls",buttonClassName:"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right"},i):"",m("span",{className:"Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic"+(e?"":" disabled"),onclick:this.markAsRead.bind(this)},d()("fas fa-check")),m("div",{className:"DiscussionListItem-content Slidable-content"+(e?" unread":"")+(r?" read":"")},m("ul",{className:"DiscussionListItem-badges badges"},y()(t.badges().toArray())),m(g.a,{href:n.a.route.discussion(t,o),className:"DiscussionListItem-main"},m("ul",{className:"DiscussionListItem-info"},y()(this.infoItems().toArray())[y()(this.infoItems().toArray()).length-1]),m("h3",{className:"DiscussionListItem-title"},x()(t.title(),this.highlightRegExp)),m("ul",{className:"DiscussionListItem-info"},h)),m("span",{tabindex:"0",role:"button",className:"DiscussionListItem-count",onclick:this.markAsRead.bind(this),title:a?n.a.translator.trans("core.forum.discussion_list.mark_as_read_tooltip"):""},L()(t[a?"unreadCount":"replyCount"]()))))})),Object(o.extend)(H.a.prototype,"items",(function(t){if(t.items.tags)for(var e=t.items.tags.content.children.length,r=0;r<e;r++){var a=t.items.tags.content.children[r].children[0].children[2].children;"Canale"!=a&&"An"!=a&&"Luna"!=a&&"Zi"!=a&&"Emisiuni"!=a||(t.items.tags.content.children[r].attrs.className+=" d-none",console.log(t.items.tags.content.children[r].attrs.className))}})),et()}))}]);
//# sourceMappingURL=forum.js.map